{% comment %}Is this product on sale?{% endcomment %}
{% assign on_sale = false %}
{% if product.compare_at_price > product.price %}
  {% assign on_sale = true %}
{% endif %}

{% assign product_url = product.url | within: collection %}


<div class="col mb-4">
<a href="{{ product_url }}">
<div class="product-block card h-100 ">
  <div class="row no-gutters h-100">
    <div class="col col-md-4 product-block--img-wrapper">
      <img src="{{  product.featured_image.src | img_url: "medium" }}" class="product-block--img card-img" alt="{{product.title}}">
    </div>
    <div class="col col-md-8">
      <div class="card-body d-flex flex-column justify-content-between h-100">
        <h5 class="card-title">{{ product.title }}</h5>
        <p class="card-text">{{ product.description | truncate: 100 }}</p>
        <p class="card-text align-self-bottom">
          {% if product.price_varies %}{{ 'products.listing.from' | t }}{% endif %}
        	<span class="theme-money">{{ product.price | money }}</span>
          {% if on_sale %}<span class="was-price theme-money">{{ product.compare_at_price | money }}</span>{% endif %}

          {%- assign variant = product.variants | sort: 'price' | first -%}
          {% include 'unit-price' %}
        
        </p>
      </div>
    </div>
  </div>
</div>
</a>
</div>
